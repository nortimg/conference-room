{"ast":null,"code":"import _slicedToArray from\"/home/alek/Code/conference-room/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/home/alek/Code/conference-room/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    display: block; \\n    width: 100%; \\n    max-height: 144px;  \\n    object-fit: cover;\\n    border-radius: inherit;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"  \\n    max-width: 210px;\\n    width: 100%;\\n    border-radius: inherit;\\n    \",\"; \\n\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useRef,useState,useEffect}from'react';import styled from'styled-components';var Wrapper=styled.div(_templateObject(),function(p){if(!p.isEnabled){return'display: none';}});var Video=styled.video(_templateObject2());var UserVideo=function UserVideo(props){var videoEl=useRef(null);var _useState=useState(props.isEnabled),_useState2=_slicedToArray(_useState,2),isEnabled=_useState2[0],setisEnabled=_useState2[1];useEffect(function(){if(navigator.mediaDevices.getUserMedia&&isEnabled){navigator.mediaDevices.getUserMedia({video:true}).then(function(stream){if(videoEl.current){videoEl.current.srcObject=stream;}});}},[]);return/*#__PURE__*/React.createElement(Wrapper,{isEnabled:props.isEnabled},/*#__PURE__*/React.createElement(Video,{ref:videoEl,autoPlay:true}));};export default UserVideo;","map":{"version":3,"sources":["/home/alek/Code/conference-room/src/components/Sidebar/UserCard/UserVideo.tsx"],"names":["React","useRef","useState","useEffect","styled","Wrapper","div","p","isEnabled","Video","video","UserVideo","props","videoEl","setisEnabled","navigator","mediaDevices","getUserMedia","then","stream","current","srcObject"],"mappings":"8xBAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAMA,GAAMC,CAAAA,OAAO,CAAGD,MAAM,CAACE,GAAV,mBAIP,SAACC,CAAD,CAA6B,CAC3B,GAAI,CAACA,CAAC,CAACC,SAAP,CAAkB,CACd,MAAO,eAAP,CACH,CACJ,CARQ,CAAb,CAYA,GAAMC,CAAAA,KAAK,CAAGL,MAAM,CAACM,KAAV,oBAAX,CAQA,GAAMC,CAAAA,SAA+B,CAAG,QAAlCA,CAAAA,SAAkC,CAAAC,KAAK,CAAI,CAC7C,GAAMC,CAAAA,OAAO,CAAGZ,MAAM,CAAmB,IAAnB,CAAtB,CAD6C,cAEXC,QAAQ,CAACU,KAAK,CAACJ,SAAP,CAFG,wCAEtCA,SAFsC,eAE3BM,YAF2B,eAI7CX,SAAS,CAAC,UAAM,CACZ,GAAIY,SAAS,CAACC,YAAV,CAAuBC,YAAvB,EAAuCT,SAA3C,CAAsD,CAClDO,SAAS,CAACC,YAAV,CAAuBC,YAAvB,CAAoC,CAACP,KAAK,CAAE,IAAR,CAApC,EACKQ,IADL,CACU,SAAAC,MAAM,CAAI,CACZ,GAAIN,OAAO,CAACO,OAAZ,CAAqB,CACjBP,OAAO,CAACO,OAAR,CAAgBC,SAAhB,CAA4BF,MAA5B,CACH,CACJ,CALL,EAMH,CACJ,CATQ,CASN,EATM,CAAT,CAWA,mBACI,oBAAC,OAAD,EACI,SAAS,CAAEP,KAAK,CAACJ,SADrB,eAGI,oBAAC,KAAD,EACI,GAAG,CAAEK,OADT,CAEI,QAAQ,CAAE,IAFd,EAHJ,CADJ,CAWH,CA1BD,CA4BA,cAAeF,CAAAA,SAAf","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\nimport styled from 'styled-components'\n\ninterface IUserVideo {\n    isEnabled: boolean\n}\n\nconst Wrapper = styled.div`  \n    max-width: 210px;\n    width: 100%;\n    border-radius: inherit;\n    ${(p: {isEnabled: boolean}) => {\n        if (!p.isEnabled) {\n            return 'display: none'\n        }\n    }}; \n\n`\n\nconst Video = styled.video`\n    display: block; \n    width: 100%; \n    max-height: 144px;  \n    object-fit: cover;\n    border-radius: inherit;\n`\n\nconst UserVideo: React.FC<IUserVideo> = props => {\n    const videoEl = useRef<HTMLVideoElement>(null)\n    const [isEnabled, setisEnabled] = useState(props.isEnabled)\n\n    useEffect(() => {\n        if (navigator.mediaDevices.getUserMedia && isEnabled) {\n            navigator.mediaDevices.getUserMedia({video: true})\n                .then(stream => {\n                    if (videoEl.current) {\n                        videoEl.current.srcObject = stream\n                    }\n                })\n        }\n    }, [])\n\n    return (\n        <Wrapper\n            isEnabled={props.isEnabled}\n        >\n            <Video \n                ref={videoEl}\n                autoPlay={true}\n            >\n            </Video>\n        </Wrapper>\n    )\n}\n\nexport default UserVideo"]},"metadata":{},"sourceType":"module"}